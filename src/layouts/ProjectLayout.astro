---
import Layout from './Layout.astro';

interface Props {
  frontmatter: {
    title: string;
    description: string;
    category: string;
    client: string;
    duration: string;
    technologies: string[];
    image: string;
    challenge: string;
    solution: string;
    results: string[];
  };
}

const { frontmatter } = Astro.props;
---

<Layout title={frontmatter.title} description={frontmatter.description}>
  <article class="project-page">
    <header class="project-header">
      <div class="container">
        <h1>{frontmatter.title}</h1>
        <p class="project-intro">{frontmatter.description}</p>
      </div>
    </header>

    <div class="project-hero">
      <img src={frontmatter.image} alt={frontmatter.title} />
    </div>

    <div class="project-content">
      <div class="container">
        <div class="project-grid">
          <div class="project-main">
            <section class="project-section">
              <h2>The Challenge</h2>
              <p>{frontmatter.challenge}</p>
            </section>

            <section class="project-section">
              <h2>Our Solution</h2>
              <p>{frontmatter.solution}</p>
            </section>

            <section class="project-section">
              <h2>Key Results</h2>
              <ul class="results-list">
                {frontmatter.results.map(result => (
                  <li>{result}</li>
                ))}
              </ul>
            </section>
          </div>

          <aside class="project-sidebar">
            <div class="project-meta">
              <div class="meta-item">
                <h3>Client</h3>
                <p>{frontmatter.client}</p>
              </div>
              <div class="meta-item">
                <h3>Category</h3>
                <p>{frontmatter.category}</p>
              </div>
              <div class="meta-item">
                <h3>Duration</h3>
                <p>{frontmatter.duration}</p>
              </div>
              <div class="meta-item">
                <h3>Technologies</h3>
                <ul class="tech-list">
                  {frontmatter.technologies.map(tech => (
                    <li>{tech}</li>
                  ))}
                </ul>
              </div>
            </div>
          </aside>
        </div>
      </div>
    </div>

    <section class="section bg-light">
      <div class="container text-center">
        <h2 class="section-title">Start Your Project</h2>
        <p class="cta-text">Ready to transform your business with innovative technology solutions?</p>
        <a href="/#contact" class="btn btn-primary">Contact Us</a>
      </div>
    </section>
  </article>
</Layout>

<style>
  .project-header {
    padding: calc(var(--space-8) * 2) 0 var(--space-8);
    background-color: var(--color-neutral-700);
    color: white;
  }

  .project-header h1 {
    margin-bottom: var(--space-3);
  }

  .project-intro {
    font-size: 1.25rem;
    max-width: 800px;
    opacity: 0.9;
  }

  .project-hero {
    width: 100%;
    height: 400px;
    overflow: hidden;
  }

  .project-hero img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .project-content {
    padding: var(--space-8) 0;
  }

  .project-grid {
    display: grid;
    gap: var(--space-6);
    grid-template-columns: 1fr;
  }

  @media (min-width: 1024px) {
    .project-grid {
      grid-template-columns: 2fr 1fr;
      gap: var(--space-8);
    }
  }

  .project-section {
    margin-bottom: var(--space-6);
  }

  .project-section h2 {
    margin-bottom: var(--space-3);
    color: var(--color-neutral-900);
  }

  .results-list {
    list-style: none;
    padding: 0;
  }

  .results-list li {
    padding: var(--space-3);
    background: var(--color-neutral-50);
    border-radius: var(--radius-md);
    margin-bottom: var(--space-2);
  }

  .project-meta {
    background: white;
    padding: var(--space-4);
    border-radius: var(--radius-md);
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.05);
  }

  .meta-item {
    padding: var(--space-3) 0;
    border-bottom: 1px solid var(--color-neutral-200);
  }

  .meta-item:last-child {
    border-bottom: none;
  }

  .meta-item h3 {
    font-size: 1rem;
    color: var(--color-neutral-600);
    margin-bottom: var(--space-1);
  }

  .tech-list {
    list-style: none;
    padding: 0;
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-2);
  }

  .tech-list li {
    padding: var(--space-1) var(--space-2);
    background: var(--color-neutral-100);
    border-radius: var(--radius-md);
    font-size: 0.9rem;
  }

  .cta-text {
    font-size: 1.2rem;
    margin-bottom: var(--space-4);
    color: var(--color-neutral-600);
  }
</style>